<!DOCTYPE html>
<html ng-app="dopeslingerApp">

<head>
    <title>Drogendealer Tycoon</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="description" content="Werde der größte Drogendealer der Welt.">
    <meta name="keywords" content="JavaScript,Game,Clicker,Idle,Tycoon,Sim">
    <meta name="author" content="jamesgittins.com">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#fff">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="css/dopeslinger.css">
    <link rel="stylesheet" href="css/night-mode.css">
    <script src='https://cdn1.kongregate.com/javascripts/kongregate_api.js'></script>
    <script src="js/jquery.min.js"></script>
    <script src="js/lz-string.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/angular.min.js"></script>
    <script src="js/angular-sanitize.min.js"></script>
    <script src="js/angular-animate.min.js"></script>
    <script src="js/seedrandom.min.js"></script>
    <script src="js/jg-progress.js"></script>
    <script src="js/angulardope.js"></script>
    <script>

        var alwaysShowScroll = false;
        var isFixed = false;

        var scrollMenu = function () {
            // Stick the #nav to the top of the window
            $(window).scroll(fadeTop);
        };

        function fadeTop() {
            var nav = $('div.cash-top');
            var navHomeY = $("#cash-wrap").offset().top + ($("#cash-wrap").height() / 2);
            var scrollTop = $(window).scrollTop();
            var shouldBeFixed = scrollTop > navHomeY || alwaysShowScroll;

            if (shouldBeFixed && !isFixed) {
                nav.fadeIn();
                isFixed = true;
            } else if (!shouldBeFixed && isFixed) {
                nav.fadeOut();
                isFixed = false;
            }
            fixTopPadding();
        }

        function fixTopPadding() {
            if (alwaysShowScroll) {
                document.getElementsByTagName("BODY")[0].style.paddingTop = ($('div.cash-top').height() + 10) + "px";
            }
        }

        $(window).off('resize').on('resize', function () {
            $('.btn-group').each(function () {
                var height = 0;
                $(this).find('button').each(function () {
                    $(this).height('auto');

                    if ($(this).height() > height)
                        height = $(this).height();
                });
                $(this).find('button').each(function () {
                    if (height > 0)
                        $(this).height(height);
                });
            });
        });

        toggleTooltip = function (element) {
            if ($(element).hasClass('jg-tooltip')) {
                $(element).closest('div').next().slideToggle(200, function () {
                    $(element).toggleClass('jg-tooltip');
                });
            } else {
                $(element).toggleClass('jg-tooltip').closest('div').next().slideToggle(200);
            }

        };

        resetGame = function () {
            localStorage.clear();
            window.location.reload();
        };

        var kongResize = false;

        kongregateAPI.loadAPI(function () {
            window.kongregate = kongregateAPI.getAPI();
            // You can now access the Kongregate API with:
            // kongregate.services.getUsername(), etc
            // Proceed with loading your game...
            if (kongResize) {
                kongregate.services.resizeGame(1600, 1080);
            }
        });
    </script>
</head>

<body ng-controller="DopeController"
    ng-class="{'work-mode' : options.workMode, 'top-hidden' : options.hideTop, 'night-mode' : options.nightMode, 'kongregate' : options.kongregateLargeWindow}"
    ng-animate-children>

    <div class="cash-top" style="display:none;">
        <div class="container">
            <div class="strong row">
                <div class="col-xs-12 col-sm-6 text-center">
                    Vermögen:
                    <span class="current-cash">{{gameModel.cash|money}}</span>
                    <span class="glyphicon"
                        ng-class="cashPerSecond > 0 ? 'glyphicon-arrow-up production-header' : 'glypicon-arrow-down muscle-header'"></span>
                    <span ng-class="cashPerSecond > 0 ? 'production-header' : 'muscle-header'">{{cashPerSecond|money}} /
                        Sekunde</span>
                </div>
                <div class="col-xs-12 col-sm-6 text-center">
                    Respekt:
                    <span class="current-cash">{{gameModel.respect|respect}}</span>
                    <span class="glyphicon glyphicon-arrow-up muscle-header"
                        ng-show="gameModel.respectPerSecond > 0"></span>
                    <span class="muscle-header"
                        ng-show="gameModel.respectPerSecond > 0">{{gameModel.respectPerSecond|respect}} / Sekunde</span>
                </div>
                <p class="distribution strong col-xs-12 col-sm-6" ng-show="gameModel.buff && options.hideTop">
                    {{buffMsg}}</p>
                <p class="distribution strong col-xs-12 col-sm-6" ng-show="levelUpMsg && options.hideTop">{{levelUpMsg}}
                </p>
                <p class="distribution strong col-xs-12 col-sm-6" ng-repeat="dealer in gameModel.dealers"
                    ng-show="dealer.arrested && options.hideTop">{{dealer.arrestMessage}}</p>
            </div>
        </div>
    </div>

    <div class="container main-container">
        <div class="row">
            <div>
                <div class="col-xs-12 col-sm-9 col-md-10">
                    <h1 class="street" ng-class="{'hidden' : options.workMode || options.hideTop}"><span
                            class="production-header">Drogen</span> <span class="distribution-header">dealer</span>
                        <span class="muscle-header">tycoon</span></h1>
                </div>

                <div class="col-xs-12 col-sm-3 col-md-2" ng-if="!options.hideTop">
                    <button onclick="$('#optionsModal').modal('show');" class="btn btn-default options-button"><span
                            class="iconred glyphicon glyphicon-cog"></span> Optionen</button>
                    <button ng-click="hideTop()" class="btn btn-default"><span
                            class="glyphicon glyphicon-eye-close icongreen"></span> Verstecke Logo</button>
                </div>

                <div class="col-xs-12 col-sm-6" id="cash-wrap">
                    <p ng-show="!options.workMode" ng-class="{'hidden' : options.hideTop}"><strong>Kaufe Drogen. Heuere Straßendealer an, um dein Gras zu verticken. Verschaffe dir Respekt
                            indem du Einfluss gewinnst. Nutze deinen Respekt um dein Territorium zu vergrößern oder die
                            Substanzpreise zu drücken.</strong></p>
                    <div class="strong" ng-class="{'hidden' : options.hideTop}">
                        Aktuelles Vermögen:
                        <span class="current-cash">{{gameModel.cash|money}}</span>
                        <span class="glyphicon"
                            ng-class="cashPerSecond > 0 ? 'glyphicon-arrow-up production-header' : 'glypicon-arrow-down muscle-header'"></span>
                        <span
                            ng-class="cashPerSecond > 0 ? 'production-header' : 'muscle-header'">{{cashPerSecond|money}}
                            / Sekunde</span>
                    </div>
                    <p class="strong" ng-class="{'hidden' : options.hideTop}">Gesamt verdient:
                        {{gameModel.totalCashEarned|money}}</p>
                    <p class="strong" ng-class="{'hidden' : options.hideTop}">
                        Respekt aktuell: <span class="current-cash">{{gameModel.respect|respect}}</span>
                        <span class="glyphicon glyphicon-arrow-up muscle-header"
                            ng-show="gameModel.respectPerSecond > 0"></span>
                        <span class="muscle-header"
                            ng-show="gameModel.respectPerSecond > 0">{{gameModel.respectPerSecond|respect}} /
                            Sekunde</span>
                    </p>
                    <p class="strong" ng-show="kingpins.length > 0">Du hast {{kingpins.length}}
                        Straßenkönige{{kingpins.length > 1 ? "s" : ""}}, Gibt dir einen {{kingpins.length * 100}}% Bonus
                        für die Drogen und Respekt Produktion.</p>
                </div>

                <div class="col-xs-12 col-sm-6" ng-if="!options.hideTop">
                    <p class="distribution strong" ng-show="gameModel.buff">{{buffMsg}}</p>
                    <p class="distribution strong" ng-show="levelUpMsg">{{levelUpMsg}}</p>
                    <p class="distribution strong" ng-repeat="dealer in gameModel.dealers" ng-show="dealer.arrested">
                        {{dealer.arrestMessage}}</p>
                </div>
            </div>


            <div class="clearfix"></div>

            <ul class="nav nav-tabs visible-xs">
                <li role="presentation" ng-class="{'active':currentTab == 'production'}"><a
                        class="production-header strong" ng-click="currentTab = 'production'">Produktion</a></li>
                <li role="presentation" ng-class="{'active':currentTab == 'distribution'}"><a
                        class="distribution-header strong" ng-click="currentTab = 'distribution'">Vertrieb</a></li>
                <li role="presentation" ng-class="{'active':currentTab == 'muscle'}"><a class="muscle-header strong"
                        ng-click="currentTab = 'muscle'">Einfluss</a></li>
            </ul>

            <div class="col-xs-12 col-sm-4 production col-pad-5" ng-class="{'hidden-xs':currentTab != 'production'}">
                <h3 class="strong production-header">Produktion</h3>

                <div ng-repeat="upgrade in drugResearch | orderBy:'price'" class="mb-10 research-anim">
                    <div class="btn-group" style="width:100%;" role="group">
                        <button ng-click="purchaseUpgrade(upgrade)" style="width:85%;"
                            class="btn btn-default btn-production"
                            ng-disabled="gameModel.cash < upgrade.price * discountMulti()" type="button">
                            <span class="glyphicon icongreen" ng-class="upgrade.glyph"></span> {{upgrade.name}}
                            (<strong>{{upgrade.price * discountMulti()|money}}</strong>)
                        </button>
                        <button class="btn btn-default btn-production text-center" style="width:15%;padding:6px 0;"
                            onclick="toggleTooltip(this);">
                            <span class="glyphicon icongreen glyphicon-info-sign" style="width:100%;"></span>
                        </button>
                    </div>
                    <div style="display:none">
                        <p class="jg-tooltip">{{upgrade.tooltip}}</p>
                    </div>
                    <progressbar animate="false" value="cashPercentage(upgrade.price * discountMulti())"
                        ng-class="gameModel.cash < upgrade.price * discountMulti() ? 'active progress-striped' : 'progress-bar-success'">
                    </progressbar>
                    <div class="clearfix"></div>
                </div>
                <div class="row">
                    <div class="col-xs-12 drug-element" ng-repeat="drug in gameModel.drugs track by $index"
                        ng-class="{'col-lg-6' : options.kongregateLargeWindow}">
                        <div class="drug-anim">

                            <div class="drug" ng-click="selectDrug(drug)" ng-class="{'open' : drug.selected}">
                                <span class="glyphicon glyphicon-warning-sign pull-left"
                                    ng-show="drugSoldPerSecond(drug) >= drugMadePerSecond(drug)"
                                    style="font-size:18px;margin-right:-10px;"></span>
                                <strong>{{drug.name}} {{drug.qty|weight}}</strong>
                                <span class="glyphicon"
                                    ng-class="drug.selected ? 'glyphicon-chevron-up' : 'glyphicon-chevron-down'"></span>
                            </div>

                            <div class="drug-content row" ng-class="{'content-open':drug.selected}">

                                <p class="col-xs-12">Durchschnittlicher Straßenpreis:
                                    <b>{{drugStreetPrice(drug)|money}}</b> pro Gramm</p>

                                <div class="mb-10" ng-show="gameModel.silkRoadUnlocked && !options.autoSilk">
                                    <div class="col-xs-12 btn-group">
                                        <button class="btn btn-default btn-production" style="width:85%;"
                                            ng-disabled="drug.qty < 1000" ng-click="sellOnSilkRoad(drug)">
                                            <span
                                                class="glyphicon glyphicon-cloud-upload inline-glyph icongreen"></span>Verkaufe
                                            {{silkQty(drug)}}kg
                                            (<b>{{drugStreetPrice(drug) * silkQty(drug) * 900|money}}</b>)
                                        </button>
                                        <button class="btn btn-default btn-production text-center" style="width:15%;"
                                            onclick="toggleTooltip(this);">
                                            <span class="glyphicon icongreen glyphicon-info-sign"
                                                style="width:100%;"></span>
                                        </button>
                                    </div>
                                    <div style="display:none;" class="col-xs-12">
                                        <p class="jg-tooltip">Verkaufe {{silkQty(drug)}}kg {{drug.name}} an Silkroad für
                                            90% des aktuellen Straßenpreis.</p>
                                    </div>
                                    <div class="clearfix"></div>
                                </div>


                                <p class="col-xs-6"
                                    tooltip="Du produzierst {{drugMadePerSecond(drug)|weight}} {{drug.name()}} pro Sekunde">
                                    <span
                                        class="glyphicon glyphicon-arrow-up inline-glyph icongreen"></span>{{drugMadePerSecond(drug)|weight}}
                                    / Sekunde</p>
                                <p class="col-xs-6"
                                    tooltip="Deine Dealer können {{drugSoldPerSecond(drug)|weight}} {{drug.name()}} pro Sekunde verkaufen">
                                    <span
                                        class="glyphicon glyphicon-arrow-down inline-glyph iconred"></span>{{drugSoldPerSecond(drug)|weight}}
                                    / Sekunde</p>

                                <div class="col-xs-12" ng-repeat="producer in producersForDrug(drug)">
                                    <div class="btn-group" style="width:100%" role="group">
                                        <button class="btn btn-default btn-production" style="width:85%"
                                            ng-click="increaseProduction(producer)"
                                            ng-disabled="gameModel.cash < productionPrice(producer)">
                                            <span class="qty">{{producer.qty}}</span>{{producer.name}}
                                            (<strong>{{productionPrice(producer)|money}}</strong>)
                                        </button>
                                        <button class="btn btn-default btn-production text-center pl-0 pr-0"
                                            style="width:15%;" onclick="toggleTooltip(this);">
                                            <span class="glyphicon icongreen glyphicon-info-sign"
                                                style="width:100%;"></span>
                                        </button>
                                    </div>
                                    <div style="display:none;">
                                        <p class="jg-tooltip">Kaufe {{producer.name == 'Opium Farm' ? 'einen' : 'eine'}}
                                            {{producer.name}} um deine {{drug.name}} Produktion um
                                            {{producer.prodPerUnit * kingpinMulti()|weight}} pro Sekunde zu steigern</p>
                                    </div>
                                    <progressbar animate="false" value="cashPercentage(productionPrice(producer))"
                                        ng-class="gameModel.cash < productionPrice(producer) ? 'active progress-striped' : 'progress-bar-success'">
                                    </progressbar>
                                </div>

                                <div ng-repeat="upgrade in getUpgradesForDrug(drug) | orderBy:'price'"
                                    class="col-xs-12 pt-10 research-anim">
                                    <div class="btn-group" role="group" style="width:100%;">
                                        <button ng-click="purchaseUpgrade(upgrade)" style="width:85%;"
                                            class="btn btn-default btn-production"
                                            ng-disabled="gameModel.cash < upgrade.price * discountMulti()"
                                            type="button">
                                            <span class="glyphicon icongreen" ng-class="upgrade.glyph"></span>
                                            {{upgrade.name}}
                                            (<strong>{{upgrade.price * discountMulti()|money}}</strong>)
                                        </button>
                                        <button class="btn btn-default btn-production text-center pl-0 pr-0"
                                            style="width:15%;" onclick="toggleTooltip(this);">
                                            <span class="glyphicon icongreen glyphicon-info-sign"
                                                style="width:100%;"></span>
                                        </button>
                                    </div>
                                    <div style="display:none;">
                                        <p class="jg-tooltip">{{upgrade.tooltip}}</p>
                                    </div>
                                    <progressbar animate="false" value="cashPercentage(upgrade.price * discountMulti())"
                                        ng-class="gameModel.cash < upgrade.price * discountMulti() ? 'active progress-striped' : 'progress-bar-success'">
                                    </progressbar>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>


            <div class="col-xs-12 col-sm-4 distribution col-pad-5"
                ng-class="{'hidden-xs':currentTab != 'distribution', 'col-lg-5' : options.kongregateLargeWindow}">
                <h3 class="strong distribution-header">Vertrieb</h3>

                <div ng-repeat="upgrade in dealerResearch | orderBy:'price'" class="mb-10 research-anim">
                    <div class="btn-group" style="width:100%;" role="group">
                        <button ng-click="purchaseUpgrade(upgrade)" style="width:85%;"
                            class="btn btn-default btn-distribution"
                            ng-disabled="gameModel.cash < upgrade.price * discountMulti()" type="button">
                            <span class="glyphicon icongreen" ng-class="upgrade.glyph"></span> {{upgrade.name}}
                            (<strong>{{upgrade.price * discountMulti()|money}}</strong>)
                        </button>
                        <button class="btn btn-default btn-distribution text-center pl-0 pr-0" style="width:15%;"
                            onclick="toggleTooltip(this);">
                            <span class="glyphicon icongreen glyphicon-info-sign" style="width:100%;"></span>
                        </button>
                    </div>
                    <div style="display:none">
                        <p class="jg-tooltip">{{upgrade.tooltip}}</p>
                    </div>
                    <progressbar animate="false" value="cashPercentage(upgrade.price * discountMulti())"
                        ng-class="gameModel.cash < upgrade.price * discountMulti() ? 'active progress-striped' : 'progress-bar-success'">
                    </progressbar>
                    <div class="clearfix"></div>
                </div>

                <div class="btn-group" style="width:100%;">
                    <button ng-click="hireDealerModal()" style="width:85%;" class="btn btn-default" type="button"
                        id="hire-dealer-button" tooltip="Hire another dealer">
                        <span class="glyphicon icongreen glyphicon-user"></span> Heuere Dealer an <span
                            class="dealer-count strong">{{gameModel.dealers.length + '/' + (1 + gameModel.territoryUpgrades)}}</span>
                    </button>
                    <button type="button" class="btn btn-default dropdown-toggle text-center pl-0 pr-0"
                        data-toggle="dropdown" aria-expanded="false" style="width:15%;">
                        <span class="icongreen noadjust glyphicon glyphicon-sort-by-alphabet"></span><span
                            class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" role="menu" style="right:0;left:auto;">
                        <li><a href="#" ng-click="dealerSort = 'none';dealerSortReverse = false;">Keine Sortierung <span
                                    class="glyphicon glyphicon-ok" ng-show="dealerSort == 'none'"></span></a></li>
                        <li><a href="#"
                                ng-click="dealerSort = 'drugIndex';dealerSortReverse = false;updateDealerDrugIndex();">nach
                                Droge <span class="glyphicon glyphicon-ok"
                                    ng-show="dealerSort == 'drugIndex'"></span></a></li>
                        <li><a href="#" ng-click="dealerSort = 'name';dealerSortReverse = false;">nach Dealername <span
                                    class="glyphicon glyphicon-ok" ng-show="dealerSort == 'name'"></span></a></li>
                        <li><a href="#" ng-click="dealerSort = 'cashEarned';dealerSortReverse = true;">nach Verdientem
                                Geld <span class="glyphicon glyphicon-ok"
                                    ng-show="dealerSort == 'cashEarned'"></span></a></li>
                        <li><a href="#" ng-click="dealerSort = 'originalVolume';dealerSortReverse = true;">nach Menge
                                <span class="glyphicon glyphicon-ok"
                                    ng-show="dealerSort == 'originalVolume'"></span></a></li>
                        <li><a href="#" ng-click="dealerSort = 'originalPrice';dealerSortReverse = true;">nach
                                Gewinnspanne <span class="glyphicon glyphicon-ok"
                                    ng-show="dealerSort == 'originalPrice'"></span></a></li>
                    </ul>
                </div>
                <div class="row dealer-row">
                    <div class="col-xs-12 dealer-element"
                        ng-repeat="dealer in gameModel.dealers | orderBy:dealerSort:dealerSortReverse track by $index"
                        ng-class="{'col-lg-6' : options.kongregateLargeWindow}">
                        <div class="dealer-ui dealer-anim">
                            <div class="dealer" ng-class="{'open':dealer.selected}" ng-click="selectDealer(dealer)">
                                <span class="glyphicon glyphicon-exclamation-sign" ng-show="dealer.arrested"></span>
                                <span class="glyphicon glyphicon-tower pull-left" ng-show="dealer.type == 'Prestige'"
                                    style="font-size:18px;margin-right:-10px;"></span>
                                <strong>{{dealer.name}} ({{dealer.drug}})</strong><span class="glyphicon"
                                    ng-class="dealer.selected ? 'glyphicon-chevron-up' : 'glyphicon-chevron-down'"></span>
                            </div>
                            <div class="dealer-content row" ng-class="{'content-open':dealer.selected}">

                                <span class="col-xs-12 mt-10" ng-show="dealer.level >= 10"><button
                                        class="btn btn-default" ng-click="createKingpin(dealer)"><span
                                            class="glyphicon glyphicon-tower icongreen"></span>Befördere dich zum
                                        Straßenkönig</button></span>
                                <p ng-show="dealer.type == 'Prestige' && dealer.level < 10" class="col-xs-12"
                                    style="padding-left:21px;text-align:center;"><span class="strong">Level
                                        {{dealer.level}}</span> - {{dealer.currentXp.toFixed(2)}}% to level
                                    {{dealer.level + 1}}</p>
                                <p ng-show="dealer.type == 'Prestige' && !dealer.arrested" class="col-xs-12 strong"
                                    style="padding-left:21px;text-align:center;">Steigert den Respekt von
                                    {{100 + dealer.level * 50}}%</p>

                                <div class="alert alert-danger ml-10 mr-10 mb-10 text-center" role="alert"
                                    ng-show="dealer.arrested" style="clear:both;">VERHAFTET</div>
                                <span class="col-xs-12 mb-5" ng-show="dealer.arrested"><button class="btn btn-default"
                                        ng-click="payBail(dealer)" ng-disabled="gameModel.cash < dealer.bail"><span
                                            class="glyphicon glyphicon-usd icongreen"></span>Pay Bail
                                        <b>{{dealer.bail | money}}</b></button></span>

                                <div class="col-xs-12" style="margin-bottom:10px;" ng-hide="dealer.arrested">
                                    <div class="btn-group" style="width:100%" role="group">
                                        <button class="btn btn-default" style="width:85%;margin-bottom:0;"
                                            ng-click="dealer.payCops = !dealer.payCops;">
                                            Besteche die Polizei (<strong>{{dealer.payCops ? "On" : "Off"}}</strong>)
                                        </button>
                                        <button class="btn btn-default text-center pl-0 pr-0"
                                            style="width:15%;margin-bottom:0;" onclick="toggleTooltip(this);">
                                            <span class="glyphicon icongreen glyphicon-info-sign"
                                                style="width:100%;"></span>
                                        </button>
                                    </div>
                                    <div style="display:none;">
                                        <p class="jg-tooltip">Gib der Polizei 10% von {{dealer.name}}'s Einkommen damit
                                            er nicht hochgenommen wird. Reduziert den Verdienst, aber er wird nicht
                                            verhaftet.</p>
                                    </div>
                                </div>

                                <p class="col-xs-6" style="padding-left:21px;padding-right:0;">Total:
                                    <strong>{{dealer.cashEarned|money}}</strong></p>

                                <p class="col-xs-6"><strong>{{dealer.cashPerSecond|money}} / Sekunde</strong></p>
                                <div class="clearfix"></div>

                                <p class="col-xs-5 col-sm-4" style="padding-left:21px;">Verkauf:</p>
                                <span class="col-xs-7 col-sm-8">
                                    <select class="form-control" ng-model="dealer.drug"
                                        ng-change="updateDealerDrugIndex()"
                                        tooltip="Wähle die Droge die dein Dealer verkaufen soll">
                                        <option ng-repeat="drug in gameModel.drugs track by $index">{{drug.name}}
                                        </option>
                                    </select>
                                </span>
                                <div class="col-xs-12"><span class="jg-tooltip-btn strong"
                                        onclick="toggleTooltip(this)">Menge: <span class="volume iconyellow"
                                            ng-bind-html="getStars(dealer.originalVolume,5)"></span> <span
                                            class="pl-10 glyphicon glyphicon-info-sign"></span></span></div>
                                <div class="col-xs-12 mb-5" style="display:none;">
                                    <p class="jg-tooltip left-tip">{{dealer.name.split(' ')[0]}} kann bis zu
                                        {{actualDealerVolume(dealer,dealer.drug)|weight}} von {{dealer.drug}} pro
                                        Sekunde verkaufen, sowohl als auch
                                        {{dealer.sideVolume * actualDealerVolume(dealer,dealer.drug)|weight}} von
                                        anderen Drogen</p>
                                </div>

                                <div class="col-xs-12 mt-10"><span class="jg-tooltip-btn strong"
                                        onclick="toggleTooltip(this)">Margin: <span class="price iconyellow"
                                            ng-bind-html="getStars(dealer.originalPrice,5)"></span> <span
                                            class="pl-10 glyphicon glyphicon-info-sign"></span></span></div>
                                <div class="col-xs-12" style="display:none;">
                                    <p class="jg-tooltip left-tip">{{dealer.name.split(' ')[0]}} verkauft ein Gramm
                                        {{dealer.drug}} für {{actualDealerPrice(dealer)|money}}</p>
                                </div>

                                <span class="col-xs-12 mt-10"><button class="btn btn-default"
                                        ng-click="dealerUpgradeModal(dealer)">
                                        <span class="glyphicon glyphicon-shopping-cart"
                                            ng-class="areDealerUpgradesAvailable(dealer) ? 'icongreen' : 'iconred'"></span>Kaufe
                                        Ausrüstung</button>
                                </span>

                                <div ng-repeat="upgrade in dealer.upgrades | orderBy:'price' track by $index">
                                    <div class="col-xs-12 mb-5 pr-0">
                                        <span class="strong col-xs-6 pr-0"
                                            style="padding-left:6px;">{{upgrade.name}}</span>
                                        <span class="col-xs-6 pl-0 pr-0">{{upgrade.synopsis}}</span>
                                    </div>
                                </div>

                                <div class="col-xs-12">
                                    <button class="btn btn-default" ng-click="fireDealerModal(dealer)"><span
                                            class="glyphicon iconred glyphicon-user"></span>Feuere
                                        {{dealer.name.split(' ')[0]}}</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-xs-12 col-sm-4 muscle-column col-pad-5"
                ng-class="{'hidden-xs':currentTab != 'muscle', 'col-lg-3' : options.kongregateLargeWindow}">
                <h3 class="strong muscle-header">Einfluss</h3>

                <div class="btn-group" role="group" style="width:100%;">
                    <button ng-click="expandTerritory()" style="width:85%;" class="btn btn-default btn-muscle"
                        ng-disabled="gameModel.respect < priceOfTerritory()" type="button">
                        <span class="glyphicon icongreen glyphicon-globe"></span> Vergrößere dein Territorium
                        (<strong>{{priceOfTerritory()|respect}} Respekt</strong>)
                    </button>
                    <button class="btn btn-default btn-muscle text-center pl-0 pr-0" style="width:15%;"
                        onclick="toggleTooltip(this);">
                        <span class="glyphicon icongreen glyphicon-info-sign" style="width:100%;"></span>
                    </button>
                </div>
                <div style="display:none;">
                    <p class="jg-tooltip">Vergrößere dein Territorium um einen neuen Dealer anzuheuern.</p>
                </div>
                <progressbar animate="false" value="respectPercentage(priceOfTerritory())"
                    ng-class="gameModel.respect < priceOfTerritory() ? 'active progress-striped' : 'progress-bar-success'">
                </progressbar>

                <div class="btn-group" role="group" style="width:100%;margin-top:10px;">
                    <button ng-click="getDiscount()" style="width:85%;" class="btn btn-default btn-muscle"
                        ng-disabled="gameModel.respect < priceOfDiscount()" type="button">
                        <span class="glyphicon icongreen glyphicon-usd"></span> Verhandle Rabatt
                        (<strong>{{priceOfDiscount()|respect}} Respekt</strong>)
                    </button>
                    <button class="btn btn-default btn-muscle text-center pl-0 pr-0" style="width:15%;"
                        onclick="toggleTooltip(this);">
                        <span class="glyphicon icongreen glyphicon-info-sign" style="width:100%;"></span>
                    </button>
                </div>
                <div style="display:none;">
                    <p class="jg-tooltip">Verhandle neue Preise mit deinem Lieferanten. Reduziert deine Kosten um 10%.
                    </p>
                </div>
                <progressbar animate="false" value="respectPercentage(priceOfDiscount())"
                    ng-class="gameModel.respect < priceOfDiscount() ? 'active progress-striped' : 'progress-bar-success'">
                </progressbar>

                <div class="muscle-ui drug-anim" ng-repeat="muscle in gameModel.muscle track by $index">
                    <div class="muscle" ng-class="{'open':muscle.selected}" ng-click="selectDealer(muscle)">
                        <strong>{{muscle.name}} ({{muscle.qty}})</strong><span class="glyphicon"
                            ng-class="muscle.selected ? 'glyphicon-chevron-up' : 'glyphicon-chevron-down'"></span>
                    </div>
                    <div class="muscle-content row" ng-class="{'content-open':muscle.selected}">
                        <p class="col-xs-12">Jeder {{muscle.name}} bringt dir <span
                                class="strong">{{muscle.respect|respect}}</span> Respekt pro Sekunde ein</p>
                        <p class="col-xs-12">Deine <span class="strong">{{muscle.qty}}</span> {{muscle.name}} bringen
                            dir <span class="strong">{{muscle.respect*muscle.qty|respect}}</span> Respekt pro Sekunde
                            ein.</p>
                        <div class="col-xs-12">
                            <button class="btn btn-default btn-muscle" style="width:100%" ng-click="hireMuscle(muscle)"
                                ng-disabled="gameModel.cash < musclePrice(muscle)">
                                <span class="qty">{{muscle.qty}}</span>{{muscle.name}}
                                (<strong>{{musclePrice(muscle)|money}}</strong>)
                            </button>
                            <progressbar animate="false" value="cashPercentage(musclePrice(muscle))"
                                ng-class="gameModel.cash < musclePrice(muscle) ? 'active progress-striped' : 'progress-bar-success'">
                            </progressbar>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row" ng-if="options.hideTop" style="margin-top:20px;">
            <div class="col-xs-12 col-sm-3 col-sm-offset-3">
                <button onclick="$('#optionsModal').modal('show');" class="btn btn-default options-button"><span
                        class="iconred glyphicon glyphicon-cog"></span> Optionen</button>
            </div>
            <div class="col-xs-12 col-sm-3">
                <button ng-click="hideTop()" class="btn btn-default"><span
                        class="glyphicon glyphicon-eye-open icongreen"></span> Blende Logo ein</button>
            </div>
        </div>

        <div class="modal fade" id="prestigeDealerModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
            aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span
                                aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="myModalLabel">Rekrutiere einen Dealer-Boss</h4>
                    </div>
                    <div class="modal-body row">
                        <div class="col-xs-12 pb-10">
                            <p>Rekrutiere einen Dealer-Boss für {{prestigeDealerPrice * discountMulti()| money}}</p>
                            <p class="strong">Dadurch wird dein Fortschritt zurück gesetzt. Dafür bekommst du einen
                                Dealer-Boss mit perfekten Eigenschaften und dauerhaften Upgrades.</p>
                        </div>
                        <div class="col-xs-12 col-sm-8">
                            <div class="input-group">
                                <span class="input-group-addon">Dealername</span>
                                <input type="text" class="form-control" ng-model="prestigeDealerName"
                                    placeholder=" enter a name">
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-4">
                            <button ng-click="randomPrestigeName()" class="btn btn-default btn-distribution"
                                type="button">
                                Random Name
                            </button>
                        </div>
                        <div class="col-xs-6 pr-10 mt-20">
                            <button ng-click="prestigeDealerConfirm()" class="btn btn-default btn-distribution"
                                type="button">
                                <span class="glyphicon icongreen glyphicon-user"></span> Okay
                            </button>
                        </div>
                        <div class="col-xs-6 pl-10 mt-20">
                            <button ng-click="prestigeDealerCancel()" class="btn btn-default btn-distribution"
                                type="button">
                                <span class="glyphicon iconred glyphicon-user"></span> abbrechen
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="fireDealerModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-sm">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span
                                aria-hidden="true">&times;</span><span class="sr-only">Schließen</span></button>
                        <h4 class="modal-title" id="myModalLabel">Fire {{dealerToFire.name.split(' ')[0]}}?</h4>
                    </div>
                    <div class="modal-body row">
                        <div class="col-xs-12 text-center pb-10"><i>&quot;Aber ich habe {{dealerToFire.kids}} Kinder die
                                ich versorgen muss...&quot;</i></div>
                        <div class="col-xs-6 pr-10">
                            <button ng-click="fireDealerConfirm()" class="btn btn-default btn-distribution"
                                type="button">
                                <span class="glyphicon iconred glyphicon-user"></span> Feuern
                            </button>
                        </div>
                        <div class="col-xs-6 pl-10">
                            <button ng-click="fireDealerCancel()" class="btn btn-default btn-distribution"
                                type="button">
                                <span class="glyphicon icongreen glyphicon-user"></span> Behalten
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="upgradeDealerModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
            aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span
                                aria-hidden="true">&times;</span><span class="sr-only">Schließen</span></button>
                        <h4 class="modal-title" id="myModalLabel">Dealer Ausrüstung</h4>
                    </div>
                    <div class="modal-body row">
                        <div class="col-xs-12 strong mb-20">Aktuell verdient: {{gameModel.cash|money}}</div>
                        <div class="col-xs-12 strong mb-20" ng-show="upgradeDealer().type == 'Prestige'">Upgrades für
                            deine Dealer-Bosse sind teurer, aber sie werden nicht zurück gesetzt nach einem Spiel-Reset!
                        </div>
                        <div class="col-xs-12 col-sm-4 mb-20 height-match dealer-upgrade-anim"
                            ng-repeat="upgrade in availableDealerUpgrades|orderBy:'price'">
                            <p class="strong">{{upgrade.name}}</p>
                            <p>{{upgrade.tooltip}}</p>
                            <button ng-click="purchaseDealerUpgrade(upgrade)" class="btn btn-default btn-distribution"
                                ng-disabled="gameModel.cash < upgrade.realPrice" type="button">
                                <span class="glyphicon icongreen glyphicon-shopping-cart"></span> Kaufe
                                (<strong>{{upgrade.realPrice|money}}</strong>)
                            </button>
                            <progressbar animate="false" value="cashPercentage(upgrade.realPrice)"
                                ng-class="gameModel.cash < upgrade.realPrice ? 'active progress-striped' : 'progress-bar-success'">
                            </progressbar>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade distribution" id="hireDealerModal" tabindex="-1" role="dialog"
            aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span
                                aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="myModalLabel">Heuere Dealer an</h4>
                    </div>
                    <div class="modal-body row">
                        <div class="col-xs-12 col-sm-4"><button class="btn btn-default btn-distribution new-dealer-btn"
                                ng-click="refreshDealers()" ng-disabled="secondsToDealerRefresh > 0">Neue Dealer <span
                                    ng-show="secondsToDealerRefresh > 0">({{secondsToDealerRefresh}})</span></button>
                        </div>
                        <p class="col-xs-12 col-sm-8 dealer-warning"
                            ng-show="gameModel.dealers.length >= gameModel.territoryUpgrades + 1">Du hast bereits das
                            Maximum an Dealern die für dich verkaufen. Feuere einen Dealer oder vergrößere dein
                            Territorium.</p>
                        <div class="clearfix"></div>
                        <div class="col-xs-12 col-sm-4 dealer-hire-anim"
                            ng-repeat="dealer in hireDealers track by $index" ng-animate="'list'">
                            <div style="min-height:180px;">
                                <p class="dealer-name"><span class="glyphicon glyphicon-tower"
                                        ng-show="dealer.type == 'Prestige'"></span> <span
                                        class="distribution strong">{{dealer.name}}</span> <span class="strong"
                                        ng-show="dealer.type == 'Prestige'">({{dealer.level}})</span></p>
                                <p class="strong">Menge: <span class="volume iconyellow"
                                        ng-bind-html="getStars(dealer.originalVolume,5)"></span></p>
                                <p class="strong">Gewinnspanne: <span class="price iconyellow"
                                        ng-bind-html="getStars(dealer.originalPrice,5)"></span></p>
                                <p>Verkauft {{actualDealerVolume(dealer,dealer.drug)|weight}} pro Sekunde</p>
                                <p>Verkauft 1 Gramm {{dealer.drug}} für {{actualDealerPrice(dealer)|money}}</p>
                            </div>
                            <button class="btn btn-default btn-distribution" ng-click="hireDealer(dealer)"
                                ng-disabled="gameModel.dealers.length >= gameModel.territoryUpgrades + 1 || dealerHired(dealer.seed)">{{dealerHired(dealer.seed) ? 'Hired' : 'Hire ' + dealer.name.split(' ')[0]}}</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="optionsModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
            aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span
                                aria-hidden="true">&times;</span><span class="sr-only">Schließen</span></button>
                        <h4 class="modal-title" id="myModalLabel">Optionen</h4>
                    </div>
                    <div class="modal-body row">
                        <div class="col-xs-12 col-sm-6">
                            <button
                                onclick="if (confirm('This will reset all progress, are you sure?')) { resetGame(); }"
                                class="btn btn-default"><span
                                    class="glyphicon iconred glyphicon-exclamation-sign"></span> Spiel Reset</button>
                        </div>
                        <div class="col-xs-12 col-sm-6">
                            <button ng-click="toggleWorkMode()" class="btn btn-default"><span
                                    class="glyphicon glyphicon-filter iconred"></span> Schalte um auf
                                Arbeitsmodus</button>
                        </div>
                        <div class="col-xs-12 col-sm-6">
                            <button ng-click="toggleNightMode()" class="btn btn-default"><span
                                    class="glyphicon glyphicon-filter iconred"></span> Schalte um auf
                                Nachtmodus</button>
                        </div>
                        <div class="col-xs-12 col-sm-6" tooltip="Toggle automatic selling of drugs on the silk road">
                            <button ng-click="toggleAutoSilk()" class="btn btn-default"><span
                                    class="glyphicon glyphicon-cloud icongreen"></span> Automatischer Silkroad-Verkauf
                                {{options.autoSilk ? '(on)' : '(off)'}}</button>
                        </div>
                        <div class="col-xs-12 col-sm-6" tooltip="Export or Import game save">
                            <button ng-click="exportGame()" class="btn btn-default"><span
                                    class="glyphicon glyphicon-floppy-disk icongreen"></span> Exportiere/Importiere
                                Spielstand</button>
                        </div>
                        <div class="col-xs-12 col-sm-6" tooltip="Hide the title section">
                            <button ng-click="hideTop()" class="btn btn-default"><span
                                    class="glyphicon glyphicon-eye-close icongreen"></span> Verstecke/Zeige
                                Banner</button>
                        </div>
                        <div class="col-xs-12 col-sm-6" tooltip="Toggle automatic selling of drugs on the silk road">
                            <button onclick="kongregate.services.resizeGame(1600, 1080);"
                                ng-click="kongregateLargeWindow()" class="btn btn-default"><span
                                    class="glyphicon glyphicon-zoom-in icongreen"></span> Vergrößere Fenster</button>
                        </div>
                        <div class="col-xs-12 col-sm-6" tooltip="Toggle automatic selling of drugs on the silk road">
                            <button onclick="kongregate.services.resizeGame(1199, 700);"
                                ng-click="kongregateSmallWindow()" class="btn btn-default"><span
                                    class="glyphicon glyphicon-zoom-out icongreen"></span> Verkleinere Fenster</button>
                        </div>
                        <div class="col-xs-12" ng-show="kingpins.length > 0" style="margin-top:25px;">
                            <p class="strong">Namen deiner Dealer-Bosse</p>
                            <span ng-repeat="kingpin in kingpins track by $index" class="kingpin-name"><span
                                    class="glyphicon glyphicon-tower iconyellow"
                                    style="margin-right:5px;"></span>{{kingpin}}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="exportModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
            aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span
                                aria-hidden="true">&times;</span><span class="sr-only">Schließen</span></button>
                        <h4 class="modal-title" id="myModalLabel">Exportiere / Importiere</h4>
                    </div>
                    <div class="modal-body row">
                        <div class="col-xs-12">
                            <p class="strong">Um deinen Spielstand zu speichern, kopiere den Inhalt dieser Box und
                                speichere ihn in einer Textdatei</p>
                        </div>
                        <div class="col-xs-12">
                            <textarea class="form-control" rows="8" ng-model="exportGameSave"></textarea>
                        </div>
                        <div class="col-xs-12 mt-20">
                            <p class="strong">Um einen Spielstand zu importieren, kopiere den Text deines Spielstandes
                                in die folgende Box und klicke auf Importieren.</p>
                            <p class="strong">Dies überschreibt deinen aktuellen Spielstand!</p>
                        </div>
                        <div class="col-xs-12">
                            <textarea class="form-control" rows="8" ng-model="importGameSave"></textarea>
                        </div>
                        <div class="col-xs-12 mt-5">
                            <button ng-click="importGame()" class="btn btn-default"><span
                                    class="glyphicon glyphicon-floppy-disk icongreen"></span> Importieren</button>
                        </div>
                        <div class="col-xs-12 mt-10" ng-show="importError">
                            <p class="strong">Error: {{importError}}</p>
                            <p class="strong">Importieren fehlgeschlagen...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="kingpinModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-sm">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span
                                aria-hidden="true">&times;</span><span class="sr-only">Schließen</span></button>
                        <h4 class="modal-title" id="myModalLabel">Rekrutiere einen Dealer-Boss</h4>
                    </div>
                    <div class="modal-body row">
                        <div class="col-xs-12 pb-10">
                            <p>Befördere deinen Dealer zum Dealer-Boss</p>
                            <p class="strong">Dein bester Dealer wird entfernt, aber gibt die einen permanenten Bonus
                                für die Drogen-/Respektproduktion.</p>
                        </div>
                        <div class="col-xs-6 pr-10 mt-20">
                            <button ng-click="confirmKingpin()" class="btn btn-default btn-distribution" type="button">
                                <span class="glyphicon icongreen glyphicon-user"></span> Okay
                            </button>
                        </div>
                        <div class="col-xs-6 pl-10 mt-20">
                            <button ng-click="cancelKingpin()" class="btn btn-default btn-distribution" type="button">
                                <span class="glyphicon iconred glyphicon-user"></span> Abbrechen
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="offlineModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-sm">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span
                                aria-hidden="true">&times;</span><span class="sr-only">Schließen</span></button>
                        <h4 class="modal-title" id="myModalLabel">Geschäftsbericht</h4>
                    </div>
                    <div class="modal-body row">
                        <div class="col-xs-12 pb-10">
                            <p>Boss, wir haben uns in deiner Abwesenheit um deine Geschäfte gekümmert.</p>
                            <p>Du hast <span class="strong">{{offlineCash|money}} verdient!</span></p>
                            <p>Du hast <span class="strong">{{offlineRespect|respect}} an Respekt gewonnen.</span>.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</body>

</html>
